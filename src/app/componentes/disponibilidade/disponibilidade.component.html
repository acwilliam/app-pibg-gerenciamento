<div class="availability-container">
  <div class="availability-weekly">
    <h3>Disponibilidade Semanal</h3>

    <div class="day-row" *ngFor="let day of weekDays">
      <div class="day-name">
        <button class="day-button"
                [class.active]="day.ativo"
                (click)="toggleDay(day)">
          {{day.name}}
        </button>
      </div>

      <div class="periods">
        <button *ngFor="let period of day.periods"
                class="period-button"
                [class.active]="period.ativo"
                (click)="togglePeriod(day, period)">
          {{period.name}}
        </button>
      </div>
    </div>
  </div>

  <!-- Blocos de data -->

  <div class="mb-4">

    <h3 class="text-lg mb-2">Bloqueio de Datas</h3>
    <div *ngFor="let block of dateBlocks" class="mb-2 p-2 border rounded flex justify-between items-center">
      <div>
        <div class="font-medium">Período de ausência {{ dateBlocks.indexOf(block) + 1 }}</div>
        <div class="text-sm text-gray-600">
          {{ block.startDate }} - {{ block.endDate }}
        </div>
      </div>
      <button mat-icon-button color="warn" (click)="removeDateBlock(block)"> <mat-icon>close</mat-icon> </button>
    </div>

    <button mat-stroked-button color="primary" class="w-full mt-4" (click)="addDateBlock()">
      <mat-icon>add</mat-icon> Adicionar bloqueio de data </button>
  </div>

  <div class="flex gap-2 justificar-fim">
    <button mat-button color="aviso" (click)="excluirDisponibilidade()">Excluir </button>
    <button mat-raised-button cor="primário" (click)="saveToFirestore()"> Salvar </button>
  </div>
</div>
